{"ast":null,"code":"var _jsxFileName = \"/Users/anhvu/Desktop/COSC4353/group_project/fuel_rate_calc/src/pages/QuoteHistory.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport AuthContext from '../context/AuthContext';\nimport { toast } from 'react-toastify';\nimport { MDBTable, MDBTableHead, MDBTableBody, MDBCol, MDBContainer, MDBRow, MDBCard, MDBCardBody } from 'mdb-react-ui-kit';\nimport LoadingSpinner from '../components/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QuoteHistory = () => {\n  _s();\n  const {\n    authTokens\n  } = useContext(AuthContext);\n  const [quotes, setQuotes] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    const fetchQuotes = async () => {\n      try {\n        const response = await fetch(`${process.env.REACT_APP_API_BASE_URL}/quote-history/`, {\n          method: 'GET',\n          headers: {\n            'Authorization': `Bearer ${authTokens.access}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        if (response.ok) {\n          const data = await response.json();\n          setQuotes(data);\n        } else {\n          toast.error('Failed to fetch quotes.');\n        }\n      } catch (error) {\n        console.error('An error occurred:', error);\n        toast.error('An error occurred while fetching the quotes.');\n      } finally {\n        setIsLoading(false); // Update loading state here\n      }\n    };\n    if (authTokens) {\n      fetchQuotes();\n    }\n  }, [authTokens]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    style: {\n      backgroundColor: '#eee'\n    },\n    children: /*#__PURE__*/_jsxDEV(MDBContainer, {\n      className: \"py-5 fluid\",\n      children: /*#__PURE__*/_jsxDEV(MDBRow, {\n        children: [/*#__PURE__*/_jsxDEV(MDBCol, {\n          lg: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n          lg: \"10\",\n          children: isLoading ? /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this) : /*#__PURE__*/_jsxDEV(MDBCard, {\n            children: /*#__PURE__*/_jsxDEV(MDBCardBody, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"title\",\n                children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Your Quote History\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(MDBTable, {\n                class: \"table table-striped table-hover\",\n                children: [/*#__PURE__*/_jsxDEV(MDBTableHead, {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      children: \"#\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 71,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      children: \"Delivery Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 72,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      children: \"Delivery Address\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 73,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      children: \"Gallons Requested\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 74,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      children: \"Price/Gallon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 75,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      children: \"Total Amount Due\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 76,\n                      columnNumber: 17\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 70,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(MDBTableBody, {\n                  children: quotes.map((quote, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"row\",\n                      children: index + 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 82,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: quote.delivery_date\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 83,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      class: \"text-start\",\n                      children: quote.delivery_address\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 84,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: quote.gallons_requested\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 85,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [\"$\", quote.price_per_gallon]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 86,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [\"$\", quote.total_amount_due]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 87,\n                      columnNumber: 21\n                    }, this)]\n                  }, quote.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 17\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 7\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(QuoteHistory, \"Pfdqp1FG4MAIpRqcjQe/p9oDOxA=\");\n_c = QuoteHistory;\nexport default QuoteHistory;\nvar _c;\n$RefreshReg$(_c, \"QuoteHistory\");","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","toast","MDBTable","MDBTableHead","MDBTableBody","MDBCol","MDBContainer","MDBRow","MDBCard","MDBCardBody","LoadingSpinner","jsxDEV","_jsxDEV","QuoteHistory","_s","authTokens","quotes","setQuotes","isLoading","setIsLoading","fetchQuotes","response","fetch","process","env","REACT_APP_API_BASE_URL","method","headers","access","ok","data","json","error","console","style","backgroundColor","children","className","lg","fileName","_jsxFileName","lineNumber","columnNumber","class","scope","map","quote","index","delivery_date","delivery_address","gallons_requested","price_per_gallon","total_amount_due","id","_c","$RefreshReg$"],"sources":["/Users/anhvu/Desktop/COSC4353/group_project/fuel_rate_calc/src/pages/QuoteHistory.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport AuthContext from '../context/AuthContext';\nimport { toast } from 'react-toastify';\nimport {\n    MDBTable,\n    MDBTableHead,\n    MDBTableBody,\n    MDBCol,\n    MDBContainer,\n    MDBRow,\n    MDBCard,\n    MDBCardBody,\n  } from 'mdb-react-ui-kit';\nimport LoadingSpinner from '../components/Loading';\n\nconst QuoteHistory = () => {\n  const { authTokens } = useContext(AuthContext);\n  const [quotes, setQuotes] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchQuotes = async () => {\n      try {\n        const response = await fetch(`${process.env.REACT_APP_API_BASE_URL}/quote-history/`, {\n          method: 'GET',\n          headers: {\n            'Authorization': `Bearer ${authTokens.access}`,\n            'Content-Type': 'application/json',\n          },\n        });\n\n        if (response.ok) {\n          const data = await response.json();\n          setQuotes(data); \n        } else {\n         \n          toast.error('Failed to fetch quotes.');\n        }\n      } catch (error) {\n        console.error('An error occurred:', error);\n        toast.error('An error occurred while fetching the quotes.');\n      } finally {\n        setIsLoading(false); // Update loading state here\n      }\n    };\n\n    if (authTokens) {\n      fetchQuotes();\n    }\n  }, [authTokens]);\n\n  return (\n    <section style={{ backgroundColor: '#eee' }}>\n    <MDBContainer className=\"py-5 fluid\">\n    <MDBRow>     \n      <MDBCol lg=\"1\"></MDBCol>\n      \n      <MDBCol lg=\"10\" >\n      {isLoading ? (\n            <LoadingSpinner /> \n          ) : (\n      <MDBCard>\n      <MDBCardBody>\n      <div className=\"title\">\n            <h3>Your Quote History</h3>\n          </div>\n            <hr />\n      <MDBTable class=\"table table-striped table-hover\">\n            <MDBTableHead>\n                <tr>\n                <th scope=\"col\">#</th>\n                <th scope=\"col\">Delivery Date</th>\n                <th scope=\"col\">Delivery Address</th>\n                <th scope=\"col\">Gallons Requested</th>\n                <th scope=\"col\">Price/Gallon</th>\n                <th scope=\"col\">Total Amount Due</th>\n                </tr>\n            </MDBTableHead>\n            <MDBTableBody>\n                {quotes.map((quote, index) => (\n                <tr key={quote.id}>\n                    <th scope=\"row\">{index + 1}</th>\n                    <td>{quote.delivery_date}</td>\n                    <td class=\"text-start\">{quote.delivery_address}</td>\n                    <td>{quote.gallons_requested}</td>\n                    <td>${quote.price_per_gallon}</td>\n                    <td>${quote.total_amount_due}</td>\n                </tr>\n                ))}\n            </MDBTableBody>\n       </MDBTable>\n        </MDBCardBody>\n        </MDBCard>  \n        )}\n        </MDBCol>        \n        </MDBRow>\n        </MDBContainer>\n        </section>\n  );\n};\n\nexport default QuoteHistory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}